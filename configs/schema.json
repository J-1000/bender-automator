{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Bender Configuration",
  "type": "object",
  "properties": {
    "llm": {
      "type": "object",
      "properties": {
        "default_provider": {
          "type": "string",
          "enum": ["ollama", "openai", "anthropic"]
        },
        "providers": {
          "type": "object",
          "properties": {
            "ollama": {
              "type": "object",
              "properties": {
                "enabled": { "type": "boolean" },
                "base_url": { "type": "string", "format": "uri" },
                "model": { "type": "string" },
                "timeout_seconds": { "type": "integer", "minimum": 1 }
              }
            },
            "openai": {
              "type": "object",
              "properties": {
                "enabled": { "type": "boolean" },
                "api_key": { "type": "string" },
                "model": { "type": "string" },
                "vision_model": { "type": "string" },
                "timeout_seconds": { "type": "integer", "minimum": 1 }
              }
            },
            "anthropic": {
              "type": "object",
              "properties": {
                "enabled": { "type": "boolean" },
                "api_key": { "type": "string" },
                "model": { "type": "string" },
                "timeout_seconds": { "type": "integer", "minimum": 1 }
              }
            }
          }
        }
      }
    },
    "clipboard": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "min_length": { "type": "integer", "minimum": 0 },
        "debounce_ms": { "type": "integer", "minimum": 0 },
        "auto_summarize": { "type": "boolean" },
        "notification": { "type": "boolean" },
        "notification_sound": { "type": "boolean" }
      }
    },
    "auto_file": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "watch_dirs": {
          "type": "array",
          "items": { "type": "string" }
        },
        "destination_root": { "type": "string" },
        "ignore_hidden": { "type": "boolean" },
        "exclude_patterns": {
          "type": "array",
          "items": { "type": "string" }
        },
        "categories": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string" },
              "path": { "type": "string" },
              "extensions": {
                "type": "array",
                "items": { "type": "string" }
              },
              "description": { "type": "string" }
            },
            "required": ["name", "path"]
          }
        },
        "use_llm_classification": { "type": "boolean" },
        "auto_move": { "type": "boolean" },
        "auto_rename": { "type": "boolean" },
        "settle_delay_ms": { "type": "integer", "minimum": 0 }
      }
    },
    "rename": {
      "type": "object",
      "properties": {
        "naming_convention": {
          "type": "string",
          "enum": ["kebab-case", "snake_case", "camelCase", "PascalCase"]
        },
        "include_date": { "type": "boolean" },
        "date_format": { "type": "string" },
        "date_position": {
          "type": "string",
          "enum": ["prefix", "suffix"]
        },
        "max_length": { "type": "integer", "minimum": 1 },
        "preserve_extension": { "type": "boolean" }
      }
    },
    "git": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "auto_install_hooks": { "type": "boolean" },
        "commit_format": {
          "type": "string",
          "enum": ["conventional", "simple", "detailed"]
        },
        "include_scope": { "type": "boolean" },
        "include_body": { "type": "boolean" },
        "max_subject_length": { "type": "integer", "minimum": 1 },
        "max_body_width": { "type": "integer", "minimum": 1 },
        "include_diff_in_body": { "type": "boolean" }
      }
    },
    "screenshots": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "watch_dir": { "type": "string" },
        "destination": { "type": "string" },
        "rename": { "type": "boolean" },
        "add_metadata_tags": { "type": "boolean" },
        "use_vision": { "type": "boolean" },
        "vision_provider": { "type": "string" },
        "settle_delay_ms": { "type": "integer", "minimum": 0 }
      }
    },
    "queue": {
      "type": "object",
      "properties": {
        "max_concurrent": { "type": "integer", "minimum": 1 },
        "default_timeout_seconds": { "type": "integer", "minimum": 1 },
        "max_retries": { "type": "integer", "minimum": 0 },
        "retry_delay_seconds": { "type": "integer", "minimum": 0 }
      }
    },
    "logging": {
      "type": "object",
      "properties": {
        "level": {
          "type": "string",
          "enum": ["debug", "info", "warn", "error"]
        },
        "max_size_mb": { "type": "integer", "minimum": 1 },
        "max_files": { "type": "integer", "minimum": 1 },
        "include_timestamps": { "type": "boolean" }
      }
    },
    "notifications": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "sound": { "type": "boolean" },
        "show_previews": { "type": "boolean" }
      }
    }
  }
}
